<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Delivery Food ‚Äî –¥–æ—Å—Ç–∞–≤–∫–∞ —ó–∂—ñ –¥–æ–¥–æ–º—É</title>
    <link href="https://fonts.googleapis.com/css?family=Roboto:400,700&display=swap&subset=cyrillic" rel="stylesheet" />
    <link rel="stylesheet" href="https://unpkg.com/swiper/swiper-bundle.min.css" />
    <link rel="stylesheet" href="css/normalize.css" />
    <link rel="stylesheet" href="css/style.css" />
    <link rel="stylesheet" href="css/styles2.css" />
	<link rel="stylesheet" href="css/styles3.css" />
    <script type="module"src="js/main.js"></script>
      
<body>
  <div class="container">
    <div class="container">
      <header class="header">
          <a href="index.html" class="logo">
      <img src="img/icon/logo.svg" alt="Logo" />
    </a>
    <label class="address">
      <input type="text" class="input input-address" placeholder="–ê–¥—Ä–µ—Å–∞ –¥–æ—Å—Ç–∞–≤–∫–∏" />
    </label>
          
          
          <button class="button button-auth" id="authButton">
              üë§ 
          </button>

          
          <button class="button button-out" id="logoutButton" style="display: none;">
              üö™ 
          </button>

          
          <button class="button button-cart" id="cartButton" onclick="redirectToCart();">
              üõí 
          </button>

          <span id="userLogin" style="display: none;">–õ–æ–≥—ñ–Ω: <span id="loginName"></span></span>
      </header>

      <!-- Modal Auth -->
      <div class="modal modal-auth" id="authModal">
          <div class="modal-dialog modal-dialog-auth">
              <button class="close-auth" id="closeAuth">&times;</button>
              <form id="logInForm">
                  <fieldset class="modal-body">
                      <legend class="modal-title">–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—è</legend>

                      <!-- –ü–æ–ª–µ –ª–æ–≥—ñ–Ω–∞ -->
                      <label for="username">–õ–æ–≥—ñ–Ω:</label>
                      <input type="text" id="username" name="username" placeholder="–í–≤–µ–¥—ñ—Ç—å –≤–∞—à –ª–æ–≥—ñ–Ω" required minlength="4" maxlength="16" size="20" autocomplete="username" />

                      <!-- –ü–æ–ª–µ –ø–∞—Ä–æ–ª—è -->
                      <label for="password">–ü–∞—Ä–æ–ª—å (8-20 —Å–∏–º–≤–æ–ª—ñ–≤):</label>
                      <input type="password" id="password" name="password" placeholder="–í–≤–µ–¥—ñ—Ç—å –≤–∞—à –ø–∞—Ä–æ–ª—å" required minlength="8" maxlength="20" size="20" autocomplete="current-password" />

                      <button type="submit" class="button button-primary">–£–≤—ñ–π—Ç–∏</button>
                  </fieldset>
              </form>
          </div>
      </div>
      
		<main class="main">
			<div class="container">
				<section class="cart">
					<h2 class="section-title">–ö–æ—à–∏–∫</h2>
					<div class="cart-items" id="cartContainer"></div>
					<div class="total-price">
						<strong>–ó–∞–≥–∞–ª—å–Ω–∞ —Å—É–º–∞: </strong>
						<span id="totalPrice">0 ‚Ç¥</span>
					</div>
					<div class="footer-buttons">
						<button class="button button-primary" id="checkoutButton">–û—Ñ–æ—Ä–º–∏—Ç–∏ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è</button>
						<button class="button clear-cart" id="clearCartButton">–°–∫–∞—Å—É–≤–∞—Ç–∏</button>
					</div>
				</section>
			</div>
		</main>
	</div>

	<footer class="footer">
		<div class="container">
			<div class="footer-block">
				<img src="img/icon/logo.svg" alt="logo" class="logo footer-logo" />
				<nav class="footer-nav">
					<a href="#" class="footer-link">–†–µ—Å—Ç–æ—Ä–∞–Ω–∞–º </a>
					<a href="#" class="footer-link">–ö—É—Ä'—î–∞–º</a>
					<a href="#" class="footer-link">–ü—Ä–µ—Å-—Ü–µ–Ω—Ç—Ä</a>
					<a href="#" class="footer-link">–ö–æ–Ω—Ç–∞–∫—Ç–∏</a>
				</nav>
				<div class="social-links">
					<a href="#" class="social-link"><img src="img/social/instagram.svg" alt="instagram" /></a>
					<a href="#" class="social-link"><img src="img/social/fb.svg" alt="facebook" /></a>
				</div>
			</div>
		</div>
	</footer>

	<script>
		document.addEventListener('DOMContentLoaded', function () {
			const cartContainer = document.getElementById('cartContainer');
			const totalPriceElement = document.getElementById('totalPrice');
			const clearCartButton = document.getElementById('clearCartButton');
			const checkoutButton = document.getElementById('checkoutButton');
			let cart = JSON.parse(localStorage.getItem('cart')) || [];

			function renderCart() {
				cartContainer.innerHTML = '';
				let totalPrice = 0;

				cart.forEach(item => {
					const itemElement = `
						<div class="cart-item" data-id="${item.id}">
							<div class="cart-item-info">
								<span class="cart-item-name">${item.name}</span>
							</div>
							<div class="cart-item-price">
								<strong class="item-price">${item.price * item.quantity} ‚Ç¥</strong>
								<div class="food-counter">
									<button class="counter-button decrease">-</button>
									<span class="counter">${item.quantity}</span>
									<button class="counter-button increase">+</button>
								</div>
							</div>
							<button class="remove-item">–°–∫–∞—Å—É–≤–∞—Ç–∏</button>
						</div>`;
					cartContainer.innerHTML += itemElement;

				
					totalPrice += item.price * item.quantity;
				});

			
				totalPriceElement.textContent = `${totalPrice} ‚Ç¥`;
			}

			cartContainer.addEventListener('click', function (event) {
				const cartItem = event.target.closest('.cart-item');
				const itemId = cartItem.getAttribute('data-id');
				const item = cart.find(item => item.id === itemId);

				if (event.target.classList.contains('increase')) {
					item.quantity += 1;
				} else if (event.target.classList.contains('decrease') && item.quantity > 1) {
					item.quantity -= 1;
				} else if (event.target.classList.contains('remove-item')) {
					const itemIndex = cart.findIndex(item => item.id === itemId);
					cart.splice(itemIndex, 1);
				}

				localStorage.setItem('cart', JSON.stringify(cart));

			
				renderCart();
			});

	
			clearCartButton.addEventListener('click', function () {
				localStorage.removeItem('cart');
				cart = [];
				renderCart();
			});

	
			checkoutButton.addEventListener('click', function () {
				localStorage.removeItem('cart');
				cart = [];
				renderCart();
				alert('–ó–∞–º–æ–≤–ª–µ–Ω–Ω—è –æ—Ñ–æ—Ä–º–ª–µ–Ω–µ');
			});

			
			renderCart();
		});
	</script>
</body>

</html>
